<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="StyleSheet1.css">
    <script src="js/jquery.min.js"></script>
</head>
<body>
    <div class="heder">
        <div class="heder_elem">
            <table>
                <tr>
                    <td>
                        <div class="dropdown">
                            <a class="dropbtn">Registracija</a>
                            <div class="dropdown-content">
                                <a href="#">Registracija korisnika</a>
                                <a href="#">Registracija kompanije</a>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <form id="regForm">
        <div class="tab">
            <h1>Unos podataka o Rent-A-Car servisu:</h1>
            Naziv Rent-A-Car servisa:
            <p><input type="text" id="nazivCar" /></p>
            Lokacija:
            <p><input type="text" id="lokacijaCar" /></p>
        </div>

        <div class="tab">
            <h1>Podaci o administratorima:</h1>
            <p>Unesite email adrese svih administratora hotela. Kliknite na "Dodaj novo polje" kada zelite da dodate novi email. Kada administrator sistema odobri registraciju, na email adresu cete dobiti link sa kog cete se registrovati.</p>
            <table id="tabela">
                <tr>
                    <td width="850px">
                        Email adrese administraotra:
                        <p><input type="text" id="email0" /></p>
                    </td>
                </tr>
            </table>
            <button type="button" id="new" onclick="dodajNovog()">Dodaj novo polje</button>
        </div>
        <div style="overflow:auto;">
            <div style="float:right;">
                <button type="button" id="prevBtn" onclick="nextPrev(-1)">Nazad</button>
                <button type="button" id="nextBtn" onclick="nextPrev(1)">Dalje</button>
            </div>
        </div>

        <div style="text-align:center;margin-top:40px;">
            <span class="step"></span>
            <span class="step"></span>
        </div>
    </form>

    <script>
        var currentTab = 0;
        showTab(currentTab);

        function showTab(n) {
          var x = document.getElementsByClassName("tab");
          x[n].style.display = "block";
          if (n == 0) {
            document.getElementById("prevBtn").style.display = "none";
          } else {
            document.getElementById("prevBtn").style.display = "inline";
          }
          if (n == (x.length - 1)) {
            document.getElementById("nextBtn").innerHTML = "Posalji";
          } else {
            document.getElementById("nextBtn").innerHTML = "Dalje";
          }
          fixStepIndicator(n)
        }

        function nextPrev(n) {
          var x = document.getElementsByClassName("tab");
          if (n == 1 && !validateForm()) return false;
          x[currentTab].style.display = "none";
          currentTab = currentTab + n;
          if (currentTab >= x.length) {
            document.getElementById("regForm").submit();
            return false;
          }
          showTab(currentTab);
        }

        var i = 1;

        function dodajNovog() {
            var tr = "<tr><td> <p><input type=\"text\" id=\"email\"" + i + "/></p></td><td><button class=\"x_button\" type=\"button\" id=\"x\""+i+">X</button></td</tr>";
            $("#tabela").append(tr);
            i++;
        }

        $("#tabela").on('click', '.x_button', function () {
            $(this).closest('tr').remove();
        });

        function validateForm() {
          var x, y, i, valid = true;
          x = document.getElementsByClassName("tab");
          y = x[currentTab].getElementsByTagName("input");
          for (i = 0; i < y.length; i++) {
            if (y[i].value == "") {
              y[i].className += " invalid";
              valid = false;
            }
          }
          if (valid) {
            document.getElementsByClassName("step")[currentTab].className += " finish";
          }
          return valid;
        }

        function fixStepIndicator(n) {
          var i, x = document.getElementsByClassName("step");
          for (i = 0; i < x.length; i++) {
            x[i].className = x[i].className.replace(" active", "");
          }
          x[n].className += " active";
        }
    </script>

</body>
</html>